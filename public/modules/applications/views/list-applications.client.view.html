<section data-ng-controller="GradApplicationsController" data-ng-init="find(); fields = [
				{
               disp: 'First Name',
               field: 'personal_info.name.first'
            },
				{
               disp: 'Self-reported unweighted GPA',
               field: 'education_and_activities.self_reported_GPA'
            },
				{
               disp: 'FE Exam Score',
               field: 'education_and_activities.test_scores.FE'
            },
				{
               disp: 'GMAT Exam Score',
               field: 'education_and_activities.test_scores.GMAT'
            },
				{
               disp: 'GRE Exam Score',
               field: 'education_and_activities.test_scores.GRE'
            },
				{
               disp: 'IELTS Exam Score',
               field: 'education_and_activities.test_scores.IELTS'
            },
				{
               disp: 'MELAB Exam Score',
               field: 'education_and_activities.test_scores.MELAB'
            },
				{
               disp: 'TOEFL Exam Score',
               field: 'education_and_activities.test_scores.TOEFL'
            },
				{
               disp: 'TSE Exam Score',
               field: 'education_and_activities.test_scores.TSE'
            }
]">

   <script type="text/ng-template" id="myModalContent.html">
      <div class="modal-header">
         <h3 class="modal-title">Application Details</h3>
      </div>
      <div class="modal-body">
         <tabset justified="true">
            <tab heading="Application">
               <br>
               <br>
               <b>Full application:</b>
               <br>
               <div ng-repeat="n in fields">
                  <div class="gradApplicationDetail" style="clear: both">
                     <p data-ng-bind='n.disp+ ": " + getprop(gradApplication, n.field, "")'></p>
                  </div>
               </div>

               <div class="gradApplicationFooter"></div>
               <br>
            </tab>
            <tab heading="Percentile Charts">
               <br>
               <br>
               <p><b>GRE and TOEFL score and subscore percentiles:</b></p>
               <br>
               <p> GRE Overall: 43.3% </p>
               <p> GRE Math: 25.7% </p>
               <p> GRE Reading: 70.3% </p>
               <p> GRE Writing: 80.4% </p>

               <br>

               <p> TOEFL Overall: 54.0% </p>
               <p> TOEFL Reading: 75.2% </p>
               <p> TOEFL Listening: 27.7% </p>
               <p> TOEFL Speaking: 99.3% </p>
               <p> TOEFL Writing: 54.4% </p>

            </tab>
            <tab heading="Comments">
              <br>
              <br>
              <b>Submit a Comment</b>

              <div style="margin-bottom: 50px; width: 50%;">
                 Name: <input class='comments name' type="text" placeholder="username">
                 <br>
                 <textarea class='comments body' rows="5" placeholder="Begin writing a comment here..."></textarea>
                 <br>
                 <input type="submit" class="btn btn-default">
              </div>
              
              <div style="margin-bottom: 50px; width: 50%;"> <!-- Prior Comments Area -->
              <accordion close-others="oneAtATime">
                <accordion-group heading="Comments History" is-open="status.isFirstOpen" is-disabled="status.isFirstDisabled">
                  <div style="padding:10px; border: solid 1px;">
                     <div class='comments body submitted' type="text" value="comment" readonly>
                       Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce porttitor justo vitae justo dignissim vestibulum. Fusce eleifend enim vitae tellus semper consectetur. Vestibulum nec lacus lorem. Proin in facilisis augue. Praesent pellentesque quam urna, eu placerat justo viverra ac. Aenean a condimentum velit. Aliquam posuere, leo nec semper porta, mauris libero tincidunt ipsum, at ultrices quam leo sit amet diam. Vestibulum feugiat orci eu velit cursus, sed aliquam dui interdum. Fusce sit amet lacus auctor, suscipit mi vel, cursus diam. Nunc eu hendrerit metus. Phasellus in facilisis lacus. Morbi viverra, eros eu feugiat vehicula, ipsum mi viverra neque, at fermentum lorem mi et purus.
                     </div>
                     <div class='comments name submitted' type="text" value="Name" readonly>
                       Andrew Jackson
                     </div>
                  </div>
                <br>
                <br>
                <div style="padding:10px; border: solid 1px;">
                  <div class= 'comments body submitted' type="text" value="comment" readonly>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce porttitor justo vitae justo dignissim vestibulum. Fusce eleifend enim vitae tellus semper consectetur. Vestibulum nec lacus lorem. Proin in facilisis augue. Praesent pellentesque quam urna, eu placerat justo viverra ac. Aenean a condimentum velit. Aliquam posuere, leo nec semper porta, mauris libero tincidunt ipsum, at ultrices quam leo sit amet diam. Vestibulum feugiat orci eu velit cursus, sed aliquam dui interdum. Fusce sit amet lacus auctor, suscipit mi vel, cursus diam. Nunc eu hendrerit metus. Phasellus in facilisis lacus. Morbi viverra, eros eu feugiat vehicula, ipsum mi viverra neque, at fermentum lorem mi et purus.
                  </div>
                  <div class='comments name submitted' type="text" value="Name" readonly>William Mckinley</div>
                </div>
                <br>
                <br>
                <div style="padding:10px; border: solid 1px;">
                  <div class='comments body submitted' type="text" value="comment" readonly>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce porttitor justo vitae justo dignissim vestibulum. Fusce eleifend enim vitae tellus semper consectetur. Vestibulum nec lacus lorem. Proin in facilisis augue. Praesent pellentesque quam urna, eu placerat justo viverra ac. Aenean a condimentum velit. Aliquam posuere, leo nec semper porta, mauris libero tincidunt ipsum, at ultrices quam leo sit amet diam. Vestibulum feugiat orci eu velit cursus, sed aliquam dui interdum. Fusce sit amet lacus auctor, suscipit mi vel, cursus diam. Nunc eu hendrerit metus. Phasellus in facilisis lacus. Morbi viverra, eros eu feugiat vehicula, ipsum mi viverra neque, at fermentum lorem mi et purus.
                  </div>
                  <div class='comments name submitted' type="text" value="Name" readonly>Benjamin Harrison</div>
                </div>
                <br>
                <br>
                </accordion-group>
                </accordion>
              </div>
            </tab>
         </tabset>
      </div>
      <div class="modal-footer">
         <button class="btn btn-primary" ng-click="close()">Close</button>
      </div>
   </script>

    <div class="page-header">
        <h1>Existing Graduate Applications</h1>
    </div>
		<div class="table-responsive">
	    <table class="table table-hover sortable-theme-bootstrap" data-sortable onclick="Sortable.init()">
	        <thead>
	            <tr>
	                <th>Name</th>
	                <th>UFID </th>
	                <th>Unweighted GPA</th>
	                <th>GRE Overall</th>
	                <th>GRE Math</th>
	                <th>GRE Reading</th>
	                <th>GRE Writing</th>
	                <th>TOEFL Overall</th>
	                <th>TOEFL Speaking</th>
	                <th>TOEFL Reading</th>
	                <th>TOEFL Writing</th>
	                <th>TOEFL Listening</th>
	                <th>Ethnicity</th>
	                <th>Race</th>
	                <th>Nationality</th>
	                <th>Actions</th>

	            </tr>
	        </thead>
	        <tr data-ng-repeat="gradApplication in gradApplications" data-ng-href="#!/gradApplications/{{gradApplication._id}}" data-ng-click="viewPage()" class="gradApplicationListing">
	            <td>
	                <h3 class="list-group-item-heading">
	                   <span data-ng-bind="gradApplication.personal_info.name.first"></span>
	                   <span data-ng-bind="gradApplication.personal_info.name.last"></span>
	                </h3>
	            </td>
	            <td data-ng-bind="gradApplication.education_and_activities.personal_info.UFID"></td>

	            <td data-ng-bind="gradApplication.education_and_activities.self_reported_GPA"></td>

	            <td data-ng-bind="gradApplication.education_and_activities.test_scores.GRE"></td>

	            <td ></td>
	            <td ></td>
	            <td ></td>
	            <td data-ng-bind="gradApplication.education_and_activities.test_scores.TOEFL"></td>
	            <td ></td>
	            <td ></td>
	            <td ></td>
	            <td ></td>
	            <td data-ng-bind="gradApplication.education_and_activities.education_and_activities.personal_info.dob"></td>
	            <td data-ng-bind="gradApplication.education_and_activities.self_reported_GPA.personal_info.ethnicity"></td>
	            <td data-ng-bind="gradApplication.education_and_activities.self_reported_GPA.personal_info.nation_of_citizenship"></td>

	            <td>
	                <a href="javascript:;" data-ng-click="downloadPDF()">Download PDF</a>
	            </td>



	        </tr>
	    </table>
		</div>
    <div class="alert alert-warning text-center" data-ng-hide="!gradApplications.$resolved || gradApplications.length">
    	No Grad Applications yet, why don't you <a href="/#!/gradApplications/create">create one</a>?
    </div>
</section>
